type Query {
  directives(boothId: String, feedParams: FeedParams): DirectiveFeed
  directive(id: ID!): Directive
}

type Mutation {
  upsertDirective(input: DirectiveInput, id: String): Directive!
  upsertDirectiveComment(input: DirectiveCommentInput, id: String): DirectiveComment!
  upsertDirectiveVote(input: DirectiveVoteInput, id: String): DirectiveVote!
  upsertMalchutBooth(id: String, input: BoothInput): Booth
}

type DirectiveFeed {
  entities: [Directive]
  info: FeedInfo
}

type MalchutBooth {
  id: String
  booth: String
}

type DirectiveStamps {
  proposed: String
  reviewed: String
  approved: String
  implemented: String
  completed: String
  archived: String
}

type Directive {
  id: ID!
  name: String!
  text: String!
  stamps: DirectiveStamps
  boothId: ID
  user: ID!
  createdAt: String!
  updatedAt: String!
  comments: [DirectiveComment]
  votes: [DirectiveVote]
  children: [Directive]
  votingScore: Int
}

type DirectiveComment {
  id: ID!
  directiveId: ID!
  text: String!
  user: ID!
  createdAt: String!
  updatedAt: String!
}

type DirectiveVote {
  id: ID!
  directiveId: ID!
  text: String!
  score: Int!
  user: ID!
  createdAt: String!
  updatedAt: String!
}

input DirectiveInput {
  name: String!
  text: String!
  boothId: ID!
  parentId: String
}

input DirectiveCommentInput {
  directiveId: ID!
  text: String!
}

input DirectiveVoteInput {
  directiveId: ID!
  text: String!
  score: Int!
}
